\documentclass[12pt]{article}
\usepackage{amsmath, amsfonts, amssymb}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\rank}{rank}
\title{Toyota PRIUS Calibration}
\author{J\'{e}r\^{o}me Maye}
\date{\today}
\begin{document}
  \maketitle

  \section{Variables Definitions}\label{sec:model}
    \begin{itemize}
      \item Swiss Grid reference frame: $\mathbf{I}_w$
      \item Vehicle reference frame (Applanix): $\mathbf{I}_v$
      \item Odometry reference frame: $\mathbf{I}_o$
      \item LRV representing rigid transformation between Swiss Grid reference
        and vehicle reference frames at time $k$ (vehicle to Swiss Grid):
        $\mathbf{T}_{v,w}^{(k)}=(\mathbf{R}_{v,w}^{(k)},\mathbf{t}_{v,w}^{(k)})$
      \item LRV representing the velocity of the vehicle reference frame at time
        $k$ in the Swiss Grid reference frame:
        $(\mathbf{v}_{v,w}^{(k)},\boldsymbol{\omega}_{v,w}^{(k)})$
      \item LRV representing rigid transformation between vehicle reference and
        odometry reference frames (odometry to vehicle):
        $\mathbf{T}_{o,v}=(\mathbf{R}_{o,v},\mathbf{t}_{o,v})$
      \item ORV representing Applanix measurement at time $k$
        (pose): $\mathbf{x}^{(k)}$
      \item Covariance matrix of Applanix measurement at time $k$:
        $\mathbf{Q}^{(k)}$
      \item ORV representing odometry measurement at time $k$:
        $\mathbf{u}^{(k)}=[v_{rr}^{(k)},v_{rl}^{(k)},v_{fr}^{(k)},v_{fl}^{(k)},
        \theta^{(k)}]^T$
      \item Covariance matrix of odometry measurement at time $k$:
        $\mathbf{R}^{(k)}$
      \item LRV representing vehicle geometry: $L$ (rear-front axle distance),
        $e$ (half car width)
      \item LRV representing wheel speed factors: $\kappa_{rr},\kappa_{rl},
        \kappa_{fr},\kappa_{fl}$
      \item LRV representing steering wheel transmission: $a_0,a_1,a_2,a_3$
    \end{itemize}

  \section{Error Terms Definitions}\label{sec:errors}
    \subsection{Applanix Measurement}
      $\mathbf{x}^{(k)}\sim\mathcal{N}(\mathbf{T}_{v,w}^{(k)},
        \mathbf{Q}^{(k)})$

      \noindent TBD: change the formulation here according to Paul\\
      \noindent TBD: speed measurement could be included here as well

    \subsection{Odometry Measurement}
      \begin{itemize}
        \item Virtual front middle wheel steering angle at time $k$:
          $\psi^{(k)}$
        \item Steering wheel transmission at time $k$:
          $\theta^{(k)} = a_0 + a_1\psi^{(k)} + a_2\psi^{(k)2} + a_3\psi^{(k)3}$
        \item Translational velocity in vehicle reference frame at time $k$:
          $\mathbf{v}_{v,v}^{(k)}=\mathbf{R}_{v,w}^{(k)T}\mathbf{v}_{v,w}^{(k)}$
        \item Rotational velocity in vehicle reference frame at time $k$:
          $\boldsymbol{\omega}_{v,v}^{(k)}=\mathbf{R}_{v,w}^{(k)T}
          \boldsymbol{\omega}_{v,w}^{(k)}$
        \item Translational velocity in odometry reference frame at time $k$:
          $\mathbf{v}_{o,o}^{(k)}=\mathbf{R}_{o,v}^T(\mathbf{v}_{v,v}^{(k)} -
          \boldsymbol{\omega}_{v,v}^{(k)}\times\mathbf{t}_{o,v})=
          [v_x^{(k)},v_y^{(k)},v_z^{(k)}]^T$
        \item Rotational velocity in odometry reference frame at time $k$:
          $\boldsymbol{\omega}_{o,o}^{(k)}=\mathbf{R}_{o,v}^T
          \boldsymbol{\omega}_{v,v}^{(k)}=
          [\omega_x^{(k)},\omega_y^{(k)},\omega_z^{(k)}]^T$
         \item $\tan\psi_L^{(k)}=
           \frac{\tan(\psi^{(k)} L)}{L - e\tan(\psi^{(k)})}$,
           $\tan\psi_R^{(k)}=\frac{\tan(\psi^{(k)} L)}{L + e\tan(\psi^{(k)})}$
         \item $\tan(\psi^{(k)})=L\frac{\omega_z^{(k)}}{v_x^{(k)}}$
         \item $\kappa_{rl}v_{rl}^{(k)}=v_x^{(k)}-e\omega_z^{(k)}$
         \item $\kappa_{rr}v_{rr}^{(k)}=v_x^{(k)}+e\omega_z^{(k)}$
         \item $\kappa_{fl}v_{fl}^{(k)}\cos(\psi_L^{(k)})=
           v_x^{(k)}-e\omega_z^{(k)}$
         \item $\kappa_{fr}v_{fr}^{(k)}\cos(\psi_R^{(k)})=
           v_x^{(k)}+e\omega_z^{(k)}$
      \end{itemize}

\end{document}
